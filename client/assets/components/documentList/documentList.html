<div id="documentList">
  <div ng-repeat="doc in vm.docs" ng-switch="::vm.getDocType(doc)">
<!--     
    <span data-tooltip aria-haspopup = "true" class="has-tip[tip-top tip-bottom tip-left tip-right] [radius round]" title={{vm.getMoreLikeThisFromObservable(doc)}} style="cursor:pointer;"> click to find!  </span> -->
<!-- 
    <mlt ng-click="vm.getMoreLikeThisFromObservable(doc)"> Click Here To Find More Like This Document In A Different Way <mlt> -->
  

    <div href='#' ng-click="vm.getMoreLikeThisByLaunchingQueryAgainstPipeline(doc)" style="cursor:pointer"> Click Here to Change the Query Pipeline </div>
    <div id="overlay"> 
      <pre id ="MoreLikeThisResultsFromPipeline" ng-click="vm.overlay()">
      </pre>
    </div>

   <!--  <div href='#' ng-click="vm.getMoreLikeThisByLaunchingQuery(doc)" style="cursor:pointer"> Click Here to Find More Like This Document </div>
    <div id="overlay"> 
      <pre id ="MoreLikeThisByDocIdResults" ng-click="vm.overlay()">
      </pre>
    </div> -->

    <document-file ng-switch-when="lucid.anda/file" doc="doc" position="vm.getDocPosition(doc,vm.docs)" highlight="vm.highlighting"></document-file>
    <document-jira ng-switch-when="lucid.anda/jira" doc="doc" position="vm.getDocPosition(doc,vm.docs)" highlight="vm.highlighting"></document-jira>
    <document-slack ng-switch-when="lucid.slack/slack" doc="doc" position="vm.getDocPosition(doc,vm.docs)" highlight="vm.highlighting"></document-slack>
    <document-twitter ng-switch-when="lucid.twitter.search/twitter_search" doc="doc" position="vm.getDocPosition(doc,vm.docs)" highlight="vm.highlighting"></document-twitter>
    <document-twitter ng-switch-when="lucid.twitter.stream/twitter_stream" doc="doc" position="vm.getDocPosition(doc,vm.docs)" highlight="vm.highlighting"></document-twitter>
    <document-web ng-switch-when="lucid.anda/web" doc="doc" position="vm.getDocPosition(doc,vm.docs)" highlight="vm.highlighting"></document-web>
    <document-default ng-switch-default doc="doc" position="vm.getDocPosition(doc,vm.docs)" highlight="vm.highlighting"></document-default>
  </div>

  <div ng-if="vm.groupedResults" ng-repeat="(key, val) in vm.groupedResults">
    <h1>{{key}}</h1>
    <div ng-repeat="group in val.groups">
      <h3 ng-if="group.groupValue" ng-click="vm.toggleGroupedResults(group.groupValue)">{{group.groupValue}}</h3>
      <!-- TODO refactor this -->
      <div ng-repeat="doc in group.doclist.docs" ng-switch="::vm.getDocType(doc)" ng-show="vm.showGroupedResults[group.groupValue] || vm.showGroupedResults['noGroupedValue']">
        <!-- <document-example ng-switch-when="string_matching_data_connector" doc="doc" highlight="vm.highlighting"></document-example> -->
        <document-file ng-switch-when="lucid.anda/file" doc="doc" position="vm.getDocPosition(doc,vm.docs)" highlight="vm.highlighting"></document-file>
        <document-jira ng-switch-when="lucid.anda/jira" doc="doc" position="vm.getDocPosition(doc,vm.docs)" highlight="vm.highlighting"></document-jira>
        <document-slack ng-switch-when="lucid.slack/slack" doc="doc" position="vm.getDocPosition(doc,vm.docs)" highlight="vm.highlighting"></document-slack>
        <document-twitter ng-switch-when="lucid.twitter.search/twitter_search" position="vm.getDocPosition(doc,vm.docs)" doc="doc" highlight="vm.highlighting"></document-twitter>
        <document-twitter ng-switch-when="lucid.twitter.stream/twitter_stream" position="vm.getDocPosition(doc,vm.docs)" doc="doc" highlight="vm.highlighting"></document-twitter>
        <document-web ng-switch-when="lucid.anda/web" doc="doc"  position="vm.getDocPosition(doc,vm.docs)" highlight="vm.highlighting"></document-web>
        <document-default  ng-switch-default doc="doc" position="vm.getDocPosition(doc,vm.docs)" highlight="vm.highlighting" ></document-default>
      </div>
    </div>
  </div>
</div>
